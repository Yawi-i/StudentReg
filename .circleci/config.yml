# See: https://circleci.com/docs/2.0/configuration-reference
version: 2.1

executors:
  exec1:
    docker:
      - image: cimg/base:stable

jobs:
  build:
    executor: exec1
    steps:
      - checkout
      - run: echo "this is the build job"

  test:
    executor: exec1
    steps:
      - checkout
      - run:
          name: Test
          command: mvn test
      - store_test_results

  publish:
    executor: exec1
    steps:
      - checkout
#     - run:
#          name: Publish
#          command:
#            - docker login
#            -


workflows:
  build-and-test-workflow:
    jobs:
      - build
      - test
        #requires:
      # - build
      - publish
        #requires:
      # - test
      #https://www.pluralsight.com/guides/create-docker-images-docker-hub